{% extends "base.html" %}
{% block title %}{{ dish.name }}{% endblock %}
{% block content %}

<style>
.recipe-container { max-width: 900px; margin: 40px auto; background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
.recipe-header { display: flex; flex-wrap: wrap; background: #faf7f2; }
.recipe-image { width: 45%; min-width: 300px; object-fit: cover; min-height: 400px; }
.recipe-header-info { padding: 40px; flex: 1; min-width: 300px; display: flex; flex-direction: column; justify-content: center; }
.recipe-stats { display: flex; gap: 15px; margin: 20px 0; }
.stat-item { background: white; padding: 10px; border-radius: 10px; text-align: center; flex: 1; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.stat-value { display: block; font-weight: bold; color: #b8a080; font-size: 18px; }
.stat-label { font-size: 12px; color: #888; text-transform: uppercase; }
.recipe-body { padding: 40px; display: grid; grid-template-columns: 1fr 1.5fr; gap: 40px; }
@media (max-width: 768px) { .recipe-body { grid-template-columns: 1fr; } .recipe-image { width: 100%; } }
.ingredients-list { list-style: none; padding: 0; }
.ingredients-list li { padding: 10px 0; border-bottom: 1px solid #eee; }
.steps-list { padding-left: 20px; }
.steps-list li { margin-bottom: 15px; line-height: 1.6; }
.btn-review { display: inline-block; background: #b8a080; color: white; padding: 12px 25px; border-radius: 25px; text-decoration: none; font-weight: bold; margin-top: 20px; text-align: center; }
</style>

<div class="recipe-container">
    <div class="recipe-header">
        <img src="{{ url_for('static', path='images/' + dish.image) }}" alt="{{ dish.name }}" class="recipe-image">
        <div class="recipe-header-info">
            <h1>{{ dish.name }}</h1>
            <div class="recipe-stats">
                <div class="stat-item"><span class="stat-value">{{ dish.cooking_time }}</span><span class="stat-label">хв</span></div>
                <div class="stat-item"><span class="stat-value">{{ dish.calories }}</span><span class="stat-label">ккал</span></div>
                <div class="stat-item"><span class="stat-value">{{ dish.servings }}</span><span class="stat-label">порції</span></div>
            </div>
            <h3>
                {% if dish.rating > 0 %}
                    Середня оцінка: {{ dish.rating }} / 10
                {% else %}
                    Оцінок ще немає
                {% endif %}
            </h3>
            <a href="/recipe/{{ dish.id }}/review" class="btn-review">Залишити відгук</a>
        </div>
    </div>

    <div class="recipe-body">
        <div>
            <h3>Інгредієнти</h3>
            <ul class="ingredients-list">
                {% for item in ingredients %}
                    {% if item.strip() %}<li>{{ item.strip() }}</li>{% endif %}
                {% endfor %}
            </ul>
        </div>
        <div>
            <h3>Кроки приготування</h3>
            <ol class="steps-list">
                {% for step in steps %}
                    {% if step.strip() %}
                        <li>{{ step.strip() }}</li>
                    {% endif %}
                {% endfor %}
            </ol>
        </div>
    </div>
</div>

{% endblock %}
