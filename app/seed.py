from database import SessionLocal, engine
import models

models.Base.metadata.create_all(bind=engine)

def seed_data():
    db = SessionLocal()

    dishes = [
        models.Dish(
            name="Український Борщ",
            image="borsch.jpg",
            ingredients="Яловичина (500г)\nБуряк (2 шт)\nКапуста (300г)\nКартопля (3 шт)\nМорква (1 шт)\nЦибуля (1 шт)\nТоматна паста (2 ст.л.)\nСметана для подачі",
            steps="Зварити м'ясний бульйон.\nДодати нарізану картоплю та капусту.\nПідготувати засмажку з буряка, моркви та томатної пасти.\nДодати засмажку в каструлю та варити до готовності.\nДати настоятися 20 хвилин.",
            calories=320, cooking_time=90, servings=6, rating=0.0
        ),
        models.Dish(
            name="Курка з рисом по-домашньому",
            image="chiken_rice.png",
            ingredients="Куряче філе (400г)\nРис довгозернистий (200г)\nВода (400мл)\nЦибуля (1 шт)\nСпеції для курки\nОлія",
            steps="Нарізати курку кубиками та підсмажити.\nДодати подрібнену цибулю.\nВсипати промитий рис.\nЗалити водою, посолити та тушкувати на слабкому вогні до поглинання води.",
            calories=450, cooking_time=40, servings=2, rating=0.0
        ),
        models.Dish(
            name="Ніжний крем-суп",
            image="crem_sup.png",
            ingredients="Печериці (500г)\nВершки 20% (200мл)\nКартопля (2 шт)\nЦибуля (1 шт)\nВершкове масло",
            steps="Відварити картоплю.\nПідсмажити гриби з цибулею.\nЗбити все блендером до однорідності.\nДодати вершки, сіль, перець та прогріти.",
            calories=280, cooking_time=30, servings=3, rating=0.0
        ),
        models.Dish(
            name="Вареники з картоплею",
            image="dumplings.png",
            ingredients="Борошно (500г)\nВода (200мл)\nКартопля (600г)\nЦибуля (2 шт)\nСало або масло",
            steps="Замісити еластичне тісто.\nЗварити картоплю та зробити пюре з додаванням смаженої цибулі.\nЗліпити вареники.\nВарити у киплячій воді 3-5 хвилин після спливання.",
            calories=380, cooking_time=60, servings=4, rating=0.0
        ),
        models.Dish(
            name="Повний англійський сніданок",
            image="english_breakfast.png",
            ingredients="Яйця (2 шт)\nБекон (3 скибочки)\nКвасоля в томаті (100г)\nПечериці\nТост\nСосиски (2 шт)",
            steps="Підсмажити бекон та сосиски.\nОкремо посмажити гриби.\nПриготувати яєшню.\nРозігріти квасолю.\nПодати все на одній великій тарілці з підсмаженим тостом.",
            calories=750, cooking_time=15, servings=1, rating=0.0
        ),
        models.Dish(
            name="Класичний хумус",
            image="hummus.png",
            ingredients="Нут консервований (400г)\nТахіні (2 ст.л.)\nЛимонний сік (1 ст.л.)\nЧасник (1 зубчик)\nОливкова олія",
            steps="Злити воду з нуту.\nЗбити в блендері нут, тахіні, часник та сік лимона.\nПоступово додавати оливкову олію до кремової консистенції.\nПрикрасити паприкою.",
            calories=160, cooking_time=10, servings=4, rating=0.0
        ),
        models.Dish(
            name="Запечене м'ясо зі спеціями",
            image="meat.png",
            ingredients="Свиняча корейка (1кг)\nЧасник (4 зубчики)\nГірчиця (1 ст.л.)\nРозмарин\nСіль, перець",
            steps="Натерти м'ясо сіллю, перцем та гірчицею.\nЗробити надрізи та вставити часник.\nЗагорнути у фольгу.\nЗапікати при 180°C близько 60-80 хвилин.",
            calories=550, cooking_time=80, servings=5, rating=0.0
        ),
        models.Dish(
            name="Млинці з маком",
            image="pancakes.png",
            ingredients="Молоко (500мл)\nБорошно (250г)\nЯйця (3 шт)\nМак готовий (200г)\nЦукор (2 ст.л.)\nОлія (2 ст.л.)",
            steps="Збити яйця з цукром, додати молоко та борошно.\nДодати олію у тісто та ретельно перемішати.\nПосмажити тонкі млинці на розпеченій сковорідці.\nНа кожен млинець викласти макову начинку та згорнути трубочкою.",
            calories=290, cooking_time=40, servings=4, rating=0.0
        ),
        models.Dish(
            name="Паста Карбонара",
            image="pasta-carbonara.png",
            ingredients="Спагеті (200г)\nБекон або гуанчіале (100г)\nЯйця (2 жовтки)\nСир Пармезан (50г)\nЧорний перець",
            steps="Відварити пасту до стану аль-денте.\nПідсмажити бекон.\nЗмішати жовтки з тертим сиром.\nЗмішати пасту з беконом, зняти з вогню та швидко втрутити яєчну суміш.",
            calories=600, cooking_time=15, servings=2, rating=0.0
        ),
        models.Dish(
            name="Запечена картопля з травами",
            image="potato.png",
            ingredients="Картопля (800г)\nОливкова олія\nЧасник\nРозмарин або кріп\nСіль",
            steps="Нарізати картоплю дольками.\nЗмішати з олією, спеціями та часником.\nВикласти на деко.\nЗапікати при 200°C до золотистої скоринки.",
            calories=210, cooking_time=40, servings=3, rating=0.0
        ),
        models.Dish(
            name="Салат Цезар з куркою",
            image="salad_caezar.png",
            ingredients="Салат Ромен або Айсберг\nКуряче філе (200г)\nСухарики\nПармезан\nСоус Цезар\nЧері",
            steps="Підсмажити курку.\nНарвати листя салату.\nДодати курку, чері та сухарики.\nПолити соусом та посипати тертим сиром.",
            calories=340, cooking_time=20, servings=2, rating=0.0
        )
    ]

    for dish_data in dishes:
        exists = db.query(models.Dish).filter(models.Dish.name == dish_data.name).first()
        if not exists:
            db.add(dish_data)

    db.commit()
    db.close()
    print("Done!")

if __name__ == "__main__":
    seed_data()
